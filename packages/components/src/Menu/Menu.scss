@import "../../styles/core";

// Menu

$footer-height: 56px;

body {
  &.#{$prefix}--menu--open {
    overflow: hidden;
  }
}

.#{$prefix}--menu {
  align-items: center;
  background-color: rgba(#000, 0.5);
  display: flex;
  height: 100vh;
  justify-content: center;
  left: 0;
  opacity: 0;
  position: fixed;
  top: 0;
  transition: opacity $motion-base ease, visibility $motion-base linear;
  visibility: hidden;
  width: 100vw;
  z-index: 900;

  &.is--visible {
    opacity: 1;
    transition: opacity $motion-base ease, visibility $motion-base linear;
    visibility: visible;

    .#{$prefix}--menu-wrapper {
      opacity: 1;
      transform: translateX(0);
      transition: opacity $motion-base ease, transform $motion-base ease;
    }
  }
}

.#{$prefix}--menu-wrapper {
  background-color: $color-white;
  height: 100%;
  left: 0;
  max-width: 260px;
  position: absolute;
  top: 0;
  transform: translateX(-100%);
  transition: opacity $motion-base ease, transform $motion-base ease;
  width: 100%;
  z-index: 901;
}

.#{$prefix}--menu-header {
  padding: $spacing-small $spacing-small $spacing-xxx-large;

  .#{$prefix}--menu-header__action {
    align-items: center;
    appearance: none;
    background-color: $color-default;
    border: $button-border-width solid $color-default;
    border-radius: 100%;
    color: $color-primary;
    cursor: pointer;
    display: flex;
    margin-bottom: -$spacing-x-small;
    margin-top: -$spacing-x-small;
    padding: $spacing-x-small;
    transition: $button-hover-delay ease;

    &:hover {
      background-color: $color-default-hover;
    }

    &:active {
      background-color: $color-default-active;
    }

    &:focus {
      border-color: $color-default-active;
      box-shadow: 0 0 0 $button-border-width $color-default-active;
    }
  }
}

.#{$prefix}--menu-body {
  padding: $spacing-x-small $spacing-x-small $footer-height $spacing-x-small;
}

.#{$prefix}--menu-footer {
  bottom: 0;
  left: 0;
  padding: $spacing-x-small;
  position: absolute;
  width: 100%;
}

.#{$prefix}--menu-section:not(:last-child) {
  margin-bottom: $spacing-medium;
}

.#{$prefix}--menu-section__title {
  margin-bottom: $spacing-x-small;
  padding: 0 $spacing-x-small;
}

.#{$prefix}--menu-item {
  @include nimbus--type("text-body");
  align-items: center;
  appearance: none;
  background-color: transparent;
  border-radius: $actions-border-radius;
  color: $color-secondary;
  cursor: pointer;
  display: flex;
  padding: $spacing-x-small;
  width: 100%;

  svg {
    fill: $color-secondary;
    margin-right: $spacing-x-small;
  }
}

.#{$prefix}--menu-item--active {
  background-color: #edf5fe;
  color: $color-primary;

  svg {
    fill: $color-primary;
  }
}
