@import "../../styles/core";

// Table

.#{$prefix}--table-wrapper {
  @include nimbus--breakpoint-down(md) {
    margin-left: -$spacing-small;
    margin-right: -$spacing-small;
  }

  &.#{$prefix}--table-wrapper--ruled {
    @include nimbus--breakpoint(md) {
      border: $input-border-width solid $color-default;
      border-radius: $actions-border-radius;
    }
  }

  .#{$prefix}--table__mass-actions {
    @include nimbus--safe-area($spacing-x-small);

    align-items: center;
    background-color: $color-default;
    display: flex;
    flex-wrap: nowrap;
    padding-bottom: $spacing-x-small;
    padding-left: $spacing-x-small;
    padding-right: $spacing-x-small;
    position: fixed;
    top: 0;
    width: 100%;
    z-index: 499;

    @include nimbus--breakpoint(md) {
      padding-top: $spacing-x-small;
      position: sticky;
    }

    > * {
      padding-left: $spacing-x-small;
      padding-right: $spacing-x-small;
    }

    .#{$prefix}--table__mass-select {
      flex: 1 1 auto;
      max-width: 360px;
    }
  }
}

.#{$prefix}--table {
  border: 0;
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;

  .#{$prefix}--table__header {
    @include nimbus--breakpoint-down(md) {
      border: 0;
      clip: rect(0, 0, 0, 0);
      height: 1px;
      margin: -1px;
      overflow: hidden;
      padding: 0;
      position: absolute;
      visibility: inherit;
      white-space: nowrap;
      width: 1px;
    }

    .#{$prefix}--text {
      color: $color-body-text;
    }
  }

  .#{$prefix}--table__body {
    margin-left: -$spacing-small;
    margin-right: -$spacing-small;
  }

  th {
    .#{$prefix}--text,
    .#{$prefix}--link,
    .#{$prefix}--button {
      @include nimbus--type("text-heading");
    }
  }
}

// TableRow

.#{$prefix}--table-wrapper--ruled {
  .#{$prefix}--table-row {
    border-bottom: 1px solid $color-default;
    border-top: 1px solid $color-default;
  }
}

.#{$prefix}--table-wrapper--spacing-base {
  &.#{$prefix}--table-wrapper--actions {
    .#{$prefix}--table-row {
      @include nimbus--breakpoint-down(md) {
        padding: $spacing-small $spacing-x-small $spacing-small $spacing-x-large;
      }

      .#{$prefix}--table-row__check {
        width: $spacing-xx-large;

        @include nimbus--breakpoint-down(md) {
          padding: $spacing-small $spacing-x-small 0 $spacing-small;
        }
      }
    }
  }

  .#{$prefix}--table-row {
    @include nimbus--breakpoint-down(md) {
      padding: $spacing-small $spacing-x-small;
    }

    .#{$prefix}--table-row__item {
      padding: $spacing-small $spacing-x-small;

      @include nimbus--breakpoint-down(md) {
        padding: 0 $spacing-x-small;
      }
    }
  }
}

.#{$prefix}--table-wrapper--spacing-tight {
  &.#{$prefix}--table-wrapper--actions {
    .#{$prefix}--table-row {
      @include nimbus--breakpoint-down(md) {
        padding: $spacing-x-small $spacing-x-small $spacing-x-small
          $spacing-large;
      }

      .#{$prefix}--table-row__check {
        width: $spacing-x-large;

        @include nimbus--breakpoint-down(md) {
          padding: $spacing-x-small $spacing-xx-small 0 $spacing-x-small;
        }
      }
    }
  }

  .#{$prefix}--table-row {
    @include nimbus--breakpoint-down(md) {
      padding: $spacing-x-small;
    }

    .#{$prefix}--table-row__item {
      padding: $spacing-x-small;

      @include nimbus--breakpoint-down(md) {
        padding: 0 $spacing-x-small;
      }
    }
  }
}

.#{$prefix}--table-row {
  @include nimbus--breakpoint-down(md) {
    display: flex;
    flex-wrap: wrap;
    position: relative;
  }

  .#{$prefix}--table-row__check {
    padding-left: $spacing-small;
    padding-right: $spacing-x-small;

    @include nimbus--breakpoint-down(md) {
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
    }
  }

  &.#{$prefix}--table-row--grayed {
    background-color: #fafafa;
  }

  .#{$prefix}--table-row__item {
    text-align: left;

    &.#{$prefix}--table-row__item--trim-text {
      .#{$prefix}--text {
        /* stylelint-disable-next-line property-no-vendor-prefix */
        -webkit-box-orient: vertical;
        /* stylelint-disable-next-line value-no-vendor-prefix */
        display: -webkit-box;
        -webkit-line-clamp: 2;
        overflow: hidden;
        text-align: inherit;
        text-overflow: ellipsis;

        @include nimbus--breakpoint(md) {
          max-width: 160px;
          white-space: nowrap;
        }
      }
    }

    &.#{$prefix}--table-row__item--fill-width {
      @include nimbus--breakpoint-down(md) {
        flex: 1 1 auto;
      }
    }

    &.#{$prefix}--table-row__item--auto-width {
      @include nimbus--breakpoint-down(md) {
        flex: 0 0 auto;
      }
    }

    @for $n from 0 through 100 {
      &.#{$prefix}--table-row__item--#{$n}-width {
        @include nimbus--breakpoint-down(md) {
          flex: 1 1 percentage($n / 100);
          max-width: percentage($n / 100);
        }
      }
    }

    &.#{$prefix}--table-row__item--align-right {
      @include nimbus--breakpoint-down(md) {
        text-align: right;
      }
    }

    &.#{$prefix}--table-row__item--extra-padding {
      @include nimbus--breakpoint-down(md) {
        padding: $spacing-x-small 0 0 $spacing-x-small;
      }
    }
  }
}
