import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import { withKnobs, text } from "@storybook/addon-knobs";
import { withA11y } from "@storybook/addon-a11y";
import { action } from "@storybook/addon-actions";

import { Select } from "@tiendanube/components/src";

import "../utils/style.css";

<Meta title="Atoms/Select" component={Select} />

# Select

TODO: complete

<Preview>
  <Story name="default" parameters={{ decorators: [withKnobs, withA11y] }}>
    <Select
      label={text("label", "Select Label")}
      name={text("name", "Select name")}
      placeholder="Select an Option"
      options={[
        { label: "Option 1", value: "1" },
        { label: "Option 2", value: "2" },
        { label: "Option 3", value: "3" },
        { label: "Option 4", value: "4" },
      ]}
      onChange={action("onChange")}
    />
  </Story>
</Preview>

## Properties

<Props of={Select.type} />

# Select with Value selected

TODO: complete

<Preview>
  <Story
    name="with value selected"
    parameters={{ decorators: [withKnobs, withA11y] }}
  >
    <Select
      label="Select Label"
      name="Select name"
      placeholder="Select an Option"
      options={[
        { label: "Option 1", value: "1" },
        { label: "Option 2", value: "2" },
        { label: "Option 3", value: "3" },
        { label: "Option 4", value: "4" },
      ]}
      value="1"
      onChange={action("onChange")}
    />
  </Story>
</Preview>

# Select with Option Group

<Preview>
  <Story name="with group" parameters={{ decorators: [withKnobs, withA11y] }}>
    <Select
      label="Select Label"
      name="Select name"
      placeholder="Select an Option"
      options={[
        {
          group: "A",
          options: [
            { label: "Option 1", value: "1" },
            { label: "Option 2", value: "2" },
          ],
        },
        {
          group: "B",
          options: [
            { label: "Option 3", value: "3" },
            { label: "Option 4", value: "4" },
          ],
        },
      ]}
      onChange={action("onChange")}
    />
  </Story>
</Preview>

# Test

<Preview>
  <Story name="test" parameters={{ decorators: [withKnobs, withA11y] }}>
    {() => {
      const [value, setValue] = React.useState("");
      const handleChange = (e) => {
        setValue(e.value);
      };
      return (
        <Select
          label="Select Label"
          name="Select name"
          placeholder="Select an Option"
          value={value}
          onChange={handleChange}
          options={[
            {
              group: "A",
              options: [
                { label: "Option 1", value: "1" },
                { label: "Option 2", value: "2" },
              ],
            },
            {
              group: "B",
              options: [
                { label: "Option 3", value: "3" },
                { label: "Option 4", value: "4" },
              ],
            },
          ]}
        />
      );
    }}
  </Story>
</Preview>
