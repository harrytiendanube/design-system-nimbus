import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import {
  withKnobs,
  text,
  select,
  number,
  boolean,
} from "@storybook/addon-knobs";
import { withA11y } from "@storybook/addon-a11y";
import { action } from "@storybook/addon-actions";

import { Input, Text } from "@tiendanube/components/src";
import { ArrowRightIcon } from "@tiendanube/icons";
import { LOREM_STRESS } from "./utils/constants";

import "../utils/style.css";

<Meta title="Atoms/Input" component={Input} />

# Input

TODO: complete

<Preview>
  <Story name="default" parameters={{ decorators: [withKnobs, withA11y] }}>
    <Input
      type={select("type", [
        "text",
        "tel",
        "number",
        "password",
        "email",
        "search",
      ])}
      label={text("label", "Label")}
      placeholder={text("placeholder", "placeholder")}
      multiRows={boolean("multiRows", false)}
      rows={number("rows", 1)}
      focused={boolean("focused", false)}
      isValid={boolean("isValid", true)}
      autoCapitalize={boolean("autoCapitalize", false)}
      autoCorrect={boolean("autoCorrect", false)}
      name="name"
      onChange={action("onChange")}
    />
  </Story>
</Preview>

## Properties

<Props of={Input.type} />
<Text>
  - Parameters <Text appearance="primary">prependIcon </Text> and{" "}
  <Text appearance="primary"> prependLabel </Text> parameters are mutually
  exclusive
</Text>
<Text>
  - Parameters can not be used <Text appearance="primary">prependLabel</Text>,{" "}
  <Text appearance="primary">appendLabel</Text>,{" "}
  <Text appearance="primary">prependIcon</Text> with{" "}
  <Text appearance="primary">type=&apos;search&apos;</Text>
</Text>

## Type search

TODO: complete

<Preview withToolbar>
  <Story name="type search" parameters={{ decorators: [withKnobs, withA11y] }}>
    {() => {
      const [value, setValue] = React.useState("");
      const handleChange = (e) => setValue(e.value);
      const handleSubmit = (e) => {
        setValue(e.value);
      };
      return (
        <Input
          type="search"
          placeholder="placeholder"
          name="name"
          value={value}
          onChange={handleChange}
          onSubmit={handleSubmit}
        />
      );
    }}
  </Story>
</Preview>

## With prepend icon

<Preview withToolbar>
  <Story name="with prepend icon">
    <Input
      label="Label"
      prependIcon={ArrowRightIcon}
      value=""
      placeholder="placeholder"
      name="name"
    />
  </Story>
</Preview>

## With prepend / append label

<Preview withToolbar>
  <Story name="with prepend / append label">
    <Input
      label="Label"
      prependLabel={select("prependLabel", ["$", "R$", "U$S"], "$")}
      appendLabel={select("appendLabel", ["cm", "kg"], "cm")}
      value=""
      placeholder="placeholder"
      name="name"
    />
    <br />
    <Input
      label="Label"
      prependLabel={select("prependLabel2", ["$", "R$", "U$S"], "U$S")}
      value=""
      placeholder="placeholder"
      name="name"
    />
    <br />
    <Input
      label="Label"
      appendLabel={select("appendLabel2", ["cm", "kg"], "kg")}
      value=""
      placeholder="placeholder"
      name="name"
    />
  </Story>
</Preview>

## Stressed

TODO: complete

<Preview withToolbar>
  <Story name="stressed">
    <Input
      label={LOREM_STRESS}
      value=""
      name="name"
      placeholder="placeholder"
    />
  </Story>
</Preview>
