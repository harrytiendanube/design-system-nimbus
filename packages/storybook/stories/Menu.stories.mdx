import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import { withKnobs, text, select, boolean } from "@storybook/addon-knobs";
import { action } from "@storybook/addon-actions";
import { withA11y } from "@storybook/addon-a11y";
import {
  HomeIcon,
  CashIcon,
  TagIcon,
  MobileIcon,
  LogOutIcon,
  UserIcon,
  StatsIcon,
  MarketingIcon,
  ToolsIcon,
  AppsIcon,
  EcosystemIcon,
} from "@tiendanube/icons";
import { Menu, Button } from "@tiendanube/components/src";

import "../utils/style.css";

<Meta title="Patterns/Menu" component={Menu} />

# Menu

TODO: complete

<Preview>
  <Story
    name="default"
    parameters={{ decorators: [withKnobs, withA11y], layout: "fullscreen" }}
  >
    <div className="fullscreen-container">
      <Menu
        title={text("title", "")}
        href={text("href", "")}
        show={boolean("show", true)}
        footer={{
          label: "Close Session",
          icon: LogOutIcon,
          onClick: action("onClick Close"),
        }}
      >
        <Menu.Section>
          <Menu.Item icon={HomeIcon} onClick={action("onClick Start")} active>
            Start
          </Menu.Item>
        </Menu.Section>
        <Menu.Section title="Manage">
          <Menu.Item icon={CashIcon} onClick={action("onClick Sales")} disabled>
            Sales
          </Menu.Item>
          <Menu.Item icon={TagIcon} onClick={action("onClick Products")}>
            Products
          </Menu.Item>
          <Menu.Item
            icon={UserIcon}
            onClick={action("onClick Customers")}
            label={{ id: "label-new", appearance: "primary", label: "New!" }}
          >
            Customers
          </Menu.Item>
        </Menu.Section>
        <Menu.Section title="Enhance">
          <Menu.Item icon={MobileIcon} onClick={action("onClick Keyboard")}>
            Keyboard
          </Menu.Item>
        </Menu.Section>
      </Menu>
    </div>
  </Story>
</Preview>

## Properties Menu

<Props of={Menu} />

## Properties Menu.Section

<Props of={Menu.Section} />

## Properties Menu.Item

<Props of={Menu.Item} />

## Text

<Preview>
  <Story name="test" parameters={{ decorators: [withKnobs, withA11y] }}>
    {() => {
      const [show, setShow] = React.useState(false);
      return (
        <>
          <Button onClick={() => setShow(true)}>Show Menu</Button>
          <Menu
            title={text("title", "Store nimbus")}
            href={text("href", "http://www.tiendanube.com")}
            onClose={() => setShow(false)}
            show={show}
            position={select("position", ["right", "left"])}
          >
            <Menu.Section>
              <Menu.Item
                icon={HomeIcon}
                onClick={action("onClick Start")}
                active
              >
                Start
              </Menu.Item>
            </Menu.Section>
            <Menu.Section title="Manage">
              <Menu.Item icon={CashIcon} onClick={action("onClick Sales")}>
                Sales
              </Menu.Item>
              <Menu.Item icon={TagIcon} onClick={action("onClick Products")}>
                Products
              </Menu.Item>
            </Menu.Section>
            <Menu.Section title="Enhance">
              <Menu.Item icon={MobileIcon} onClick={action("onClick Keyboard")}>
                Keyboard
              </Menu.Item>
            </Menu.Section>
          </Menu>
        </>
      );
    }}
  </Story>
</Preview>

# Stressed

<Preview>
  <Story
    name="stressed"
    parameters={{ decorators: [withKnobs, withA11y], layout: "fullscreen" }}
  >
    <div className="fullscreen-container">
      <Menu
        title={text("title", "Store nimbus")}
        href={text("href", "http://www.tiendanube.com")}
        show={boolean("show", true)}
        footer={{
          label: "Close Session",
          icon: LogOutIcon,
          onClick: action("onClick Close"),
        }}
      >
        <Menu.Section>
          <Menu.Item icon={HomeIcon} onClick={action("onClick Home")}>
            Home
          </Menu.Item>
          <Menu.Item icon={StatsIcon} onClick={action("onClick Stats")}>
            Stats
          </Menu.Item>
        </Menu.Section>
        <Menu.Section title="Manage">
          <Menu.Item
            icon={CashIcon}
            onClick={action("onClick Sales")}
            active={boolean("Sales active")}
            subItem={[
              {
                children: "Orders list",
                onClick: action("onClick orders list"),
                active: true,
              },
              {
                children: "Manual orders",
                onClick: action("onClick manual orders"),
                label: {
                  id: "label-new",
                  appearance: "primary",
                  label: "New!",
                },
              },
              {
                children: "Abandoned carts",
                onClick: action("onClick abandoned carts"),
              },
            ]}
          >
            Sales
          </Menu.Item>
          <Menu.Item icon={TagIcon} onClick={action("onClick Products")}>
            Products
          </Menu.Item>
          <Menu.Item icon={UserIcon} onClick={action("onClick Customers")}>
            Customers
          </Menu.Item>
          <Menu.Item icon={MarketingIcon} onClick={action("onClick Marketing")}>
            Marketing
          </Menu.Item>
        </Menu.Section>
        <Menu.Section title="Customize">
          <Menu.Item icon={ToolsIcon} onClick={action("onClick Customize")}>
            My store
          </Menu.Item>
        </Menu.Section>
        <Menu.Section title="Enhance">
          <Menu.Item icon={MobileIcon} onClick={action("onClick Keyboard")}>
            Keyboard
          </Menu.Item>
          <Menu.Item icon={AppsIcon} onClick={action("onClick Apps")}>
            My apps
          </Menu.Item>
          <Menu.Item icon={EcosystemIcon} onClick={action("onClick Ecosystem")}>
            Sales channels
          </Menu.Item>
        </Menu.Section>
      </Menu>
    </div>
  </Story>
</Preview>
