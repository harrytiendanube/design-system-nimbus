import { Meta, Story, Props, Preview } from "@storybook/addon-docs/blocks";
import { withKnobs } from "@storybook/addon-knobs";
import { action } from "@storybook/addon-actions";
import { withA11y } from "@storybook/addon-a11y";

import { Checkbox, Stack } from "@tiendanube/components/src";

import "../utils/style.css";

<Meta title="Atomic components/Checkbox" component={Checkbox} />

# Checkbox

TODO: complete

<Preview>
  <Story name="default" parameters={{ decorators: [withKnobs, withA11y] }}>
    <Stack>
      <Stack.Item>
        <Checkbox
          label="Checked"
          name="checkboxA"
          onChange={action("onChange")}
          checked
        />
      </Stack.Item>
      <Stack.Item>
        <Checkbox
          label="Unchecked"
          name="checkboxB"
          onChange={action("onChange")}
        />
      </Stack.Item>
      <Stack.Item>
        <Checkbox
          label="Indeterminate"
          name="checkboxB"
          checked="indeterminate"
        />
      </Stack.Item>
    </Stack>
  </Story>
</Preview>

## Properties

<Props of={Checkbox} />

# Skeleton

<Preview>
  <Story name="skeleton" parameters={{ decorators: [withKnobs, withA11y] }}>
    <Checkbox.Skeleton />
  </Story>
</Preview>

# Test

TODO: complete

<Preview>
  <Story name="test" parameters={{ decorators: [withKnobs, withA11y] }}>
    {() => {
      const [checked, setChecked] = React.useState({
        checkboxA: false,
        checkboxB: false,
        checkboxC: true,
      });
      const handleChange = (event) =>
        setChecked({ ...checked, [event.name]: event.checked });
      return (
        <Stack wrap>
          <Stack.Item>
            <Checkbox
              label="Check A"
              name="checkboxA"
              checked={checked.checkboxA}
              onChange={handleChange}
            />
          </Stack.Item>
          <Stack.Item>
            <Checkbox
              label="Check B"
              name="checkboxB"
              checked={checked.checkboxB}
              onChange={handleChange}
            />
          </Stack.Item>
          <Stack.Item>
            <Checkbox
              label="Check C"
              name="checkboxC"
              checked={checked.checkboxC}
              onChange={handleChange}
              disabled
            />
          </Stack.Item>
        </Stack>
      );
    }}
  </Story>
</Preview>
